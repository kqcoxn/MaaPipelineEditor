---
title: 本地文件管理
permalink: /guide/server/file
categories:
  - 指南
tags:
  - 指南
---

本地文件管理功能提供了一套快速与您本地工作目录交互的方案。

::: tip
LocalBridge 会自动递归检测运行目录下所有文件，请在**最靠近 Pipeline 文件的最上层目录**启动本地服务。**不要在例如`C:`等过于上层的目录下启动服务，否则可能导致递归与读取爆炸。**
:::

## 查看文件列表

在文件管理区域，您可以唤起文件管理面板：

![loading...](/images/guide/lb/file-panel.png)

- **根目录路径**:显示 LocalBridge 扫描的根目录
- **文件列表**:所有 `.json` 和 `.jsonc` 文件,按目录结构展示
  - 显示文件的相对路径（相对于根目录）
  - 支持搜索过滤文件名

## 打开文件

在文件列表中,点击任意文件即可打开:

1. 文件内容会加载到编辑器中
2. 在顶部 Tab 栏中新增对应的文件标签页
3. 如果文件已经打开,会直接切换到对应的标签页

## 保存文件到本地

1. 点击右侧的 **JSON** 按钮打开 JsonViewer
2. 点击顶部的「导出到粘贴板」按钮旁边的 **保存到本地** 按钮
3. 文件将被保存到原路径,覆盖本地文件

::: warning 注意
保存操作会直接覆盖本地文件，无法撤销，请谨慎操作
:::

## 新建文件

::: tip
为了避免文件路径混乱，建议您现在 Editor Tab 栏中新建文件后保存。
:::

您可以通过 JsonViewer 右侧面板创建新的本地文件：

1. 在 JsonViewer 按钮组中，点击 **新建本地文件并保存** 按钮
2. 在弹出的对话框中：
   - **文件名**：输入文件名（支持 `.json` 和 `.jsonc` 后缀，不带后缀时自动补全为 `.json`）
   - **保存目录**：选择保存目录（默认为根目录，支持选择已有目录的相对路径）
3. 点击「确定」按钮

文件创建成功后：

- 本地会生成对应的文件
- 文件列表会自动更新
- 当前编辑器的 Pipeline 内容会写入新文件

::: tip 提示

- 文件名不能包含特殊字符 `\ / : * ? " < > |`
- 如果目标目录下已存在同名文件，需要使用不同的文件名
- 保存目录可以从下拉列表选择（显示相对路径），也可以手动输入（需要绝对路径）
- 悬停在目录选项上可以查看完整路径
  :::

## 刷新文件列表

LocalBridge 会实时监听文件变化，当本地文件发生更改、新增或删除时，会自动推送更新通知。

### 自动同步功能

在配置面板的「本地通信」区域，您可以开启 **自动同步本地文件更改** 选项：

- **开启时**：本地文件变化后，编辑器会自动重新加载文件内容，实现双向协同
- **关闭时**：收到变更通知时会弹窗提醒，由您手动决定是否重新加载

::: tip 推荐场景

- **开启自动同步**：适合多人协作或使用外部工具编辑文件的场景
- **关闭自动同步**：适合需要仔细对比变更的场景，避免意外覆盖
  :::

### 手动刷新

如果文件列表未自动更新，您可以手动刷新：

1. 在本地文件面板中点击 **刷新** 按钮
2. LocalBridge 会重新扫描根目录并推送最新的文件列表
